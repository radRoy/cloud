# protocol of today

author: Daniel Walther
creation date: 08.05.2023

**Problem 1:** How do I suppress the user input prompt generated by the `tensorboard --logdir <logdir>` command?

Possibilities (theoretically) to suppress printing to the command line:
```bash
man sbatch
	...
	-Q, --quiet
		Suppress informational messages from sbatch such as Job ID. Only errors will still be displayed.
# The same flag for when submitting a slurm job from within a .sh job file, i.e. (including the `#`):
#SBATCH --quiet
```

<https://docs.s3it.uzh.ch/cluster/job_submission/#parameters>:  
> Slurm parameters can be specified either at the top of the job submission script with the `#SBATCH` prefix or on the command line. Parameters indicated on the command line override those in the job script.

Therefore, not writing a `--quiet` flag when calling the jobscript with `sbatch <job.sh>` might cause the `#SBATCH --quiet` flag inside the jobscript file to not be executed.

This problem has been postponed as solutions to problem 2 and 3 also provide a workaround to problem 1 above.

**Problem 2**: Detaching from slurm sessions without interrupting or terminating them.

**Problem 3**: Running multiple slurm sessions in parallel within the same terminal session.

**Solution 2 & 3 (& 1)**: directly connect to a specific login node & use GNU `screen` (or `tmux` or similar) to manage the terminal sessions:
```bash
ssh dwalth@login1.cluster.s3it.uzh.ch
screen -ls
	No Sockets found in /run/screen/S-dwalth.
screen -S session1  # creates a new screen shell session named session1
<ctrl + a + d>  # detach from the current active screen session
screen -x session1  # attach to session1
exit  # terminate session1 (also terminates processes within session1, I assume)
```

https://support.nesi.org.nz/hc/en-gb/articles/360001316356-Slurm-Interactive-Sessions
"If you don't request your interactive session from within a detachable terminal, any interruption to the controlling terminal, for example by your computer going to sleep or losing its connection to the internet, will permanently cancel that interactive session and remove it from the queue, whether it has started or not."
